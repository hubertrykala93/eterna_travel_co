<ui-control-field
  [labelKey]="labelKey()"
  [id]="id()"
  [errorMessage]="errorMessage() ?? ''"
  [disabled]="disabled()"
>
  @if (iconClass() || passwordIcon()) {
    <div class="input__wrapper">
      @if (iconPosition() === 'left') {
        <i class="input__icon input__icon--left" [class]="iconClass()"></i>
      }
      <input
        class="input"
        autocomplete="off"
        [class.input--fullwidth]="fullWidth()"
        [class.input--spacing-left]="iconClass() && iconPosition() === 'left'"
        [class.input--valid]="
          formControl()?.valid && (formControl()?.touched || formControl()?.dirty)
        "
        [class.input--invalid]="
          formControl()?.invalid && (formControl()?.touched || formControl()?.dirty)
        "
        [type]="type() === 'password' ? passwordType() : type()"
        [id]="id()"
        [placeholder]="placeholderKey() | translate"
        [value]="value()"
        (input)="onInput($event)"
        (blur)="onBlur()"
      />

      @if (passwordIcon()) {
        <i
          class="input__icon input__icon--right input__icon--clickable"
          tabindex="0"
          role="button"
          [class]="passwordIcon()"
          (keydown.enter)="setPasswordVisibility()"
          (keydown.space)="setPasswordVisibility()"
          (click)="setPasswordVisibility()"
        ></i>
      }

      @if (iconPosition() === 'right') {
        <i class="input__icon input__icon--right" [class]="iconClass()"></i>
      }
    </div>
  } @else {
    <input
      class="input"
      autocomplete="off"
      [class.input--fullwidth]="fullWidth()"
      [class.input--valid]="
        formControl()?.valid && (formControl()?.touched || formControl()?.dirty)
      "
      [class.input--invalid]="
        formControl()?.invalid && (formControl()?.touched || formControl()?.dirty)
      "
      [type]="type()"
      [id]="id()"
      [placeholder]="placeholderKey() | translate"
      [value]="value()"
      (input)="onInput($event)"
      (blur)="onBlur()"
    />
  }
</ui-control-field>
